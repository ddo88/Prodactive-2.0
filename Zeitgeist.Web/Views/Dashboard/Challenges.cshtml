@using System.Globalization
@model Zeitgeist.Web.Models.Dashboard.ChallengeModel


<!-- Tabla Retos -->
<div class="widget-box transparent">
    <div class="widget-header widget-header-flat">
        <h4 class="widget-title lighter">
            <i class="ace-icon fa fa-star orange"></i>
            Retos
        </h4>

        <div class="widget-toolbar">
            <a href="#" data-action="collapse">
                <i class="ace-icon fa fa-chevron-up"></i>
            </a>
        </div>
    </div>

    <div class="widget-body">
        <div class="widget-main no-padding">
            <table class="table table-bordered table-striped">
                <thead class="thin-border-bottom">
                    <tr>
                        <th style="width:25%">
                            <i class="ace-icon fa fa-caret-right blue"></i>Nombre
                        </th>

                        <th>
                            <i class="ace-icon fa fa-caret-right blue"></i>Puntos
                        </th>

                        <th class="hidden-480" style="width:20%">
                            <i class="ace-icon fa fa-caret-right blue"></i>Ranking
                        </th>
                    </tr>
                </thead>

                <tbody>
                    @foreach (var item in Model.DetailChallenges)
                    {
                         var r=100 - item.Porcentage; 
                        <tr>
                            <td data-bind="text:name">@item.Name</td>
                            <td>
                                <div class="progress">
                                    <div style="width: @String.Format(CultureInfo.InvariantCulture, "{0:F2}", item.Porcentage)%;" class="progress-bar progress-bar-success">@item.MyProgress</div>
                                    <!--div style="width: 70.0483%;" class="progress-bar progress-bar-warning">120,989</div-->
                                    <div style="width: @String.Format(CultureInfo.InvariantCulture, "{0:F2}", r)%;" class="progress-bar progress-bar-grey"></div>
                                </div>
                            </td>

                            <td class="hidden-480">
                                <span class="label label-warning arrowed" data-bind="text:posicionText, css:posicionIcon">@item.Ranking °</span>
                            </td>
                        </tr>
                    }
                    
                    
                </tbody>
            </table>
        </div><!-- /.widget-main -->
    </div><!-- /.widget-body -->
</div><!-- /.widget-box -->
<!-- Fin Tabla Retos-->